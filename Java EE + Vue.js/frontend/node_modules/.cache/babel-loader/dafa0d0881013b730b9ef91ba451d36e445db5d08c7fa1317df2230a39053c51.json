{"ast":null,"code":"const API_URL = 'http://localhost:8080/backend/api/';\nif (localStorage.getItem('authToken') != null) {\n  api.getPersonalPage();\n}\nexport const api = {\n  registerUser(userData) {\n    return fetch(`${API_URL}users/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(response => {\n      if (!response.ok) {\n        return response.json().then(errorData => {\n          const error = new Error(errorData.message || 'Failed to register user.');\n          error.response = {\n            status: response.status,\n            data: errorData\n          };\n          throw error;\n        });\n      }\n      return response.json();\n    });\n  },\n  loginUser(userData) {\n    return fetch(`${API_URL}users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(response => {\n      if (!response.ok) {\n        return response.json().then(errorData => {\n          const error = new Error(errorData.message || 'Failed to log in.');\n          error.response = {\n            status: response.status,\n            data: errorData\n          };\n          throw error;\n        });\n      }\n      return response.json();\n    });\n  },\n  getPersonalPage() {\n    const authToken = localStorage.getItem('authToken');\n    return fetch(`${API_URL}users/personal`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${authToken}`\n      }\n    }).then(response => {\n      if (!response.ok) {\n        return response.json().then(errorData => {\n          const error = new Error(errorData.message || 'Failed to fetch personal page.');\n          error.response = {\n            status: response.status,\n            data: errorData\n          };\n          throw error;\n        });\n      }\n      return response.json();\n    });\n  },\n  submitPoint(pointData) {\n    const authToken = localStorage.getItem('authToken');\n    return fetch(`${API_URL}points/checkpoint`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${authToken}`\n      },\n      body: JSON.stringify(pointData)\n    }).then(response => {\n      if (!response.ok) {\n        return response.json().then(errorData => {\n          const error = new Error(errorData.message || 'Failed to submit point.');\n          error.response = {\n            status: response.status,\n            data: errorData\n          };\n          throw error;\n        });\n      }\n      return response.json();\n    });\n  },\n  getPoints(authToken) {\n    return fetch(`${API_URL}points`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${authToken}`\n      }\n    }).then(response => {\n      if (!response.ok) {\n        return response.json().then(errorData => {\n          const error = new Error(errorData.message || 'Failed to fetch point.');\n          error.response = {\n            status: response.status,\n            data: errorData\n          };\n          throw error;\n        });\n      }\n      return response.json();\n    });\n  }\n};","map":{"version":3,"names":["API_URL","localStorage","getItem","api","getPersonalPage","registerUser","userData","fetch","method","headers","body","JSON","stringify","then","response","ok","json","errorData","error","Error","message","status","data","loginUser","authToken","Authorization","submitPoint","pointData","getPoints"],"sources":["/home/kamilla/IdeaProjects/web-lab-4/hello/src/api.js"],"sourcesContent":["const API_URL = 'http://localhost:8080/backend/api/';\n\nif (localStorage.getItem('authToken') != null) {\n  api.getPersonalPage();\n}\n\nexport const api = {\n  registerUser(userData) {\n    return fetch(`${API_URL}users/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n      },\n      body: JSON.stringify(userData),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((errorData) => {\n            const error = new Error(errorData.message || 'Failed to register user.');\n            error.response = { status: response.status, data: errorData };\n            throw error;\n          });\n        }\n        return response.json();\n      });\n  },\n  loginUser(userData) {\n    return fetch(`${API_URL}users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n      },\n      body: JSON.stringify(userData),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((errorData) => {\n            const error = new Error(errorData.message || 'Failed to log in.');\n            error.response = { status: response.status, data: errorData };\n            throw error;\n          });\n        }\n        return response.json();\n      });\n  },\n  getPersonalPage() {\n    const authToken = localStorage.getItem('authToken');\n    return fetch(`${API_URL}users/personal`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${authToken}`,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((errorData) => {\n            const error = new Error(errorData.message || 'Failed to fetch personal page.');\n            error.response = { status: response.status, data: errorData };\n            throw error;\n          });\n        }\n        return response.json();\n      });\n  },\n  submitPoint(pointData) {\n    const authToken = localStorage.getItem('authToken');\n    return fetch(`${API_URL}points/checkpoint`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${authToken}`,\n      },\n      body: JSON.stringify(pointData),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((errorData) => {\n            const error = new Error(errorData.message || 'Failed to submit point.');\n            error.response = { status: response.status, data: errorData };\n            throw error;\n          });\n        }\n        return response.json();\n      });\n  },\n  getPoints(authToken) {\n    return fetch(`${API_URL}points`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${authToken}`,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((errorData) => {\n            const error = new Error(errorData.message || 'Failed to fetch point.');\n            error.response = { status: response.status, data: errorData };\n            throw error;\n          });\n        }\n        return response.json();\n      });\n  },\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}